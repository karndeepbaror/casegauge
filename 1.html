<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberShield Elite | Forensic Intelligence System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;500;700&display=swap');
        
        body { 
            font-family: 'Space Grotesk', sans-serif; 
            background: #020617; 
            color: #f1f5f9;
            background-image: 
                linear-gradient(rgba(56, 189, 248, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(56, 189, 248, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }
        
        .glass-panel { 
            background: rgba(15, 23, 42, 0.8); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(56, 189, 248, 0.2);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .cyber-card:hover {
            border-color: #38bdf8;
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.3);
            transform: translateY(-2px);
        }

        .scan-line {
            width: 100%;
            height: 2px;
            background: #38bdf8;
            position: absolute;
            top: 0;
            animation: scan 3s linear infinite;
            opacity: 0.3;
        }

        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
    </style>
</head>
<body class="min-h-screen">

    <nav class="border-b border-blue-500/30 px-8 py-4 flex justify-between items-center bg-black/40 backdrop-blur-xl sticky top-0 z-[100]">
        <div class="flex items-center gap-4">
            <div class="relative">
                <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center shadow-[0_0_15px_rgba(37,99,235,0.6)]">
                    <i class="bi bi-shield-shaded text-2xl"></i>
                </div>
                <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-black animate-pulse"></div>
            </div>
            <div>
                <h1 class="font-bold text-xl tracking-tighter mono">CYBER_SHIELD <span class="text-blue-400">ELITE</span></h1>
                <p class="text-[9px] text-blue-300/60 font-mono tracking-[0.2em]">INVESTIGATION READINESS PROTOCOL v2.5</p>
            </div>
        </div>
        <div class="flex gap-4">
            <div class="hidden md:block text-right">
                <p class="text-[10px] text-gray-500 font-mono">NODE_LOCATION: ENCRYPTED</p>
                <p id="live-clock" class="text-xs text-blue-400 font-mono font-bold"></p>
            </div>
        </div>
    </nav>

    <main class="max-w-[1400px] mx-auto grid grid-cols-12 gap-6 p-6">
        
        <div class="col-span-12 lg:col-span-3 space-y-6">
            <div class="glass-panel p-5 rounded-2xl relative overflow-hidden">
                <div class="scan-line"></div>
                <h3 class="text-xs font-bold text-blue-400 mb-4 tracking-widest uppercase">1. Incident Profiling</h3>
                
                <div class="space-y-3">
                    <label class="block">
                        <span class="text-[10px] text-gray-500 ml-1">FRAUD ARCHITECTURE</span>
                        <select id="fraud_type" onchange="updateEliteEngine()" class="w-full bg-black/40 border border-white/10 rounded-lg p-3 text-xs mono mt-1 focus:border-blue-500 transition">
                            <option value="none">Identify Modus Operandi</option>
                            <option value="66D">Financial (66D IT Act)</option>
                            <option value="66C">Identity Theft (66C IT Act)</option>
                            <option value="66E">Privacy Violation (66E IT Act)</option>
                            <option value="420">Cheating & Fraud (420 IPC)</option>
                        </select>
                    </label>

                    <label class="block">
                        <span class="text-[10px] text-gray-500 ml-1">TIME CRITICALITY</span>
                        <input type="range" id="time_slider" min="1" max="168" value="1" oninput="updateEliteEngine()" class="w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500">
                        <div class="flex justify-between text-[10px] mt-2 font-mono">
                            <span id="hours_text">1 Hr</span>
                            <span class="text-gray-600">Max: 1 Week</span>
                        </div>
                    </label>
                </div>
            </div>

            <div class="glass-panel p-5 rounded-2xl">
                <h3 class="text-xs font-bold text-blue-400 mb-4 tracking-widest uppercase">2. Traceability Assets</h3>
                <div class="grid grid-cols-1 gap-2">
                    <div class="flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 cyber-card transition cursor-pointer">
                        <input type="checkbox" class="asset-check" data-pts="20" onchange="updateEliteEngine()">
                        <span class="text-xs">Suspect Bank/UPI Detail</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 cyber-card transition cursor-pointer">
                        <input type="checkbox" class="asset-check" data-pts="15" onchange="updateEliteEngine()">
                        <span class="text-xs">IP Address / Web URL</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 cyber-card transition cursor-pointer">
                        <input type="checkbox" class="asset-check" data-pts="10" onchange="updateEliteEngine()">
                        <span class="text-xs">Verified Phone Number</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-span-12 lg:col-span-6 space-y-6">
            <div class="glass-panel p-8 rounded-[2rem] border-t-2 border-blue-500/50 text-center relative overflow-hidden">
                <div class="flex justify-between items-start mb-8">
                    <div class="text-left">
                        <p class="text-[10px] text-blue-400 font-mono tracking-widest">SYSTEM_STATUS</p>
                        <h2 id="status_label" class="text-xl font-bold tracking-tight">WAITING_FOR_DATA</h2>
                    </div>
                    <div class="text-right">
                        <p class="text-[10px] text-gray-500 font-mono uppercase">Investigation Grade</p>
                        <p id="grade_label" class="text-xl font-bold text-blue-400 mono">N/A</p>
                    </div>
                </div>

                <div class="relative inline-block mb-8">
                    <svg class="w-48 h-48 transform -rotate-90">
                        <circle cx="96" cy="96" r="88" stroke="currentColor" stroke-width="8" fill="transparent" class="text-gray-800" />
                        <circle id="progress_circle" cx="96" cy="96" r="88" stroke="currentColor" stroke-width="12" fill="transparent" stroke-dasharray="553" stroke-dashoffset="553" class="text-blue-500 transition-all duration-1000 ease-out" />
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <span id="main_score" class="text-6xl font-black mono tracking-tighter">00</span>
                        <span class="text-[10px] text-gray-500 font-mono font-bold tracking-[0.3em]">SCORE</span>
                    </div>
                </div>

                <div class="grid grid-cols-3 gap-4 border-t border-white/5 pt-8">
                    <div>
                        <p class="text-[9px] text-gray-500 uppercase mb-1">Evidence Integrity</p>
                        <p id="intel_purity" class="text-sm font-bold text-emerald-400">100%</p>
                    </div>
                    <div>
                        <p class="text-[9px] text-gray-500 uppercase mb-1">Legal Applicability</p>
                        <p id="legal_strength" class="text-sm font-bold text-blue-400">LOW</p>
                    </div>
                    <div>
                        <p class="text-[9px] text-gray-500 uppercase mb-1">Recovery Odds</p>
                        <p id="recovery_odds" class="text-sm font-bold text-orange-400">0%</p>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-6">
                <div class="glass-panel p-5 rounded-2xl border-l-4 border-orange-500">
                    <h4 class="text-[10px] font-bold text-orange-400 mb-2 uppercase">Legal Advisory</h4>
                    <p id="legal_advice" class="text-xs text-gray-400 leading-relaxed">Please categorize the fraud to see applicable IT Act sections.</p>
                </div>
                <div class="glass-panel p-5 rounded-2xl border-l-4 border-blue-500">
                    <h4 class="text-[10px] font-bold text-blue-400 mb-2 uppercase">Nodal Action</h4>
                    <p id="nodal_advice" class="text-xs text-gray-400 leading-relaxed">Transaction tracing requires bank statement export in PDF/XLS format.</p>
                </div>
            </div>
        </div>

        <div class="col-span-12 lg:col-span-3 space-y-6">
            <div class="glass-panel p-5 rounded-2xl border-red-500/20">
                <h3 class="text-xs font-bold text-red-500 mb-4 tracking-widest uppercase">Forensic Red Flags</h3>
                <div class="space-y-4">
                    <label class="flex items-start gap-3 cursor-pointer group">
                        <input type="checkbox" class="penalty-check mt-1" data-hit="30" onchange="updateEliteEngine()">
                        <div>
                            <p class="text-xs font-bold group-hover:text-red-400">Factory Reset Performed</p>
                            <p class="text-[9px] text-gray-500">Critical digital artifacts lost.</p>
                        </div>
                    </label>
                    <label class="flex items-start gap-3 cursor-pointer group">
                        <input type="checkbox" class="penalty-check mt-1" data-hit="15" onchange="updateEliteEngine()">
                        <div>
                            <p class="text-xs font-bold group-hover:text-red-400">Modified Screenshots</p>
                            <p class="text-[9px] text-gray-500">Evidence chain of custody broken.</p>
                        </div>
                    </label>
                </div>
            </div>

            <div class="glass-panel p-5 rounded-2xl bg-blue-600/5">
                <button onclick="generateEliteReport()" class="w-full py-4 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-sm transition shadow-lg shadow-blue-900/40 flex items-center justify-center gap-2">
                    <i class="bi bi-file-earmark-bar-graph"></i> GENERATE DOSSIER
                </button>
                <p class="text-[9px] text-center text-gray-500 mt-4 leading-relaxed font-mono">ENCRYPTION: AES-256 LOCAL ONLY</p>
            </div>
        </div>

    </main>

    <script>
        // Real-time Clock
        setInterval(() => {
            document.getElementById('live-clock').innerText = new Date().toLocaleTimeString('en-US', { hour12: false });
        }, 1000);

        function updateEliteEngine() {
            let score = 0;
            const timeVal = document.getElementById('time_slider').value;
            document.getElementById('hours_text').innerText = timeVal + " Hrs";

            // 1. Asset Scores
            document.querySelectorAll('.asset-check').forEach(ck => {
                if(ck.checked) score += parseInt(ck.dataset.pts);
            });

            // 2. Modus Operandi & Legal Logic
            const fraudType = document.getElementById('fraud_type').value;
            const legalText = document.getElementById('legal_advice');
            const nodalText = document.getElementById('nodal_advice');
            
            if(fraudType !== 'none') {
                score += 20;
                if(fraudType === '66D') {
                    legalText.innerHTML = "<b>Sec 66D IT Act:</b> Applicable for cheating by personation using computer resource. Punishment: Upto 3 years + Fine.";
                    nodalText.innerText = "Target bank Nodal Officer must be alerted to freeze UPI merchant ID.";
                } else if(fraudType === '420') {
                    legalText.innerHTML = "<b>Sec 420 IPC:</b> Cheating and dishonestly inducing delivery of property. Essential for bank fund recovery.";
                    nodalText.innerText = "Requires immediate FIR copy for inter-bank communication.";
                }
            }

            // 3. Time Decay Logic (Exponential)
            let timeFactor = 25;
            if(timeVal > 24) timeFactor = 10;
            if(timeVal > 72) timeFactor = 5;
            score += timeFactor;

            // 4. Penalties
            let purity = 100;
            document.querySelectorAll('.penalty-check').forEach(pk => {
                if(pk.checked) {
                    score -= parseInt(pk.dataset.hit);
                    purity -= parseInt(pk.dataset.hit);
                }
            });

            score = Math.max(0, Math.min(100, score));
            
            // UI Updates
            updateUI(score, purity, timeFactor);
        }

        function updateUI(score, purity, timeFactor) {
            document.getElementById('main_score').innerText = score.toString().padStart(2, '0');
            document.getElementById('intel_purity').innerText = purity + "%";
            document.getElementById('intel_purity').className = purity < 70 ? "text-sm font-bold text-red-500" : "text-sm font-bold text-emerald-400";
            
            // Progress Circle
            const offset = 553 - (553 * score / 100);
            document.getElementById('progress_circle').style.strokeDashoffset = offset;

            // Recovery & Status Logic
            const status = document.getElementById('status_label');
            const grade = document.getElementById('grade_label');
            const recOdds = document.getElementById('recovery_odds');

            if(score >= 75) {
                status.innerText = "INVESTIGATION_OPTIMAL";
                grade.innerText = "CLASS_A";
                recOdds.innerText = "HIGH";
                recOdds.className = "text-sm font-bold text-emerald-400";
            } else if(score >= 45) {
                status.innerText = "DATA_PARTIAL";
                grade.innerText = "CLASS_B";
                recOdds.innerText = "MEDIUM";
                recOdds.className = "text-sm font-bold text-yellow-400";
            } else {
                status.innerText = "INSUFFICIENT_DATA";
                grade.innerText = "CLASS_C";
                recOdds.innerText = "LOW";
                recOdds.className = "text-sm font-bold text-red-500";
            }
        }

        function generateEliteReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const score = document.getElementById('main_score').innerText;
            const grade = document.getElementById('grade_label').innerText;
            
            doc.setFillColor(15, 23, 42);
            doc.rect(0, 0, 210, 297, 'F');
            
            doc.setTextColor(56, 189, 248);
            doc.setFont("courier", "bold");
            doc.text(">> CYBERSHIELD ELITE FORENSIC REPORT", 20, 20);
            doc.setDrawColor(56, 189, 248);
            doc.line(20, 25, 190, 25);
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text(`[REPORT_ID]: CS-${Math.floor(Math.random()*90000) + 10000}`, 20, 40);
            doc.text(`[TIMESTAMP]: ${new Date().toISOString()}`, 20, 50);
            doc.text(`[INVESTIGATION_SCORE]: ${score}/100`, 20, 60);
            doc.text(`[INVESTIGATION_GRADE]: ${grade}`, 20, 70);
            
            doc.text("--------------------------------------------------", 20, 80);
            doc.text("INVESTIGATOR RECOMMENDATIONS:", 20, 90);
            doc.text("1. Immediate notification to 1930 Cyber Helpline.", 20, 100);
            doc.text("2. Preservation of digital logs under Sec 65B IEA.", 20, 110);
            doc.text("3. Present this report at the local Cyber Police Station.", 20, 120);
            
            doc.save(`CyberShield_Report_${score}.pdf`);
        }
    </script>
</body>
</html>
