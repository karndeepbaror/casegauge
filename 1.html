<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber-X Titan | Forensic Intelligence Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap');
        
        :root {
            --primary-gold: #fbbf24;
            --deep-carbon: #111111;
            --border-glow: rgba(251, 191, 36, 0.2);
        }

        body { 
            font-family: 'Outfit', sans-serif; 
            background-color: #080808; 
            color: #e5e7eb;
            background-image: 
                radial-gradient(at 0% 0%, rgba(251, 191, 36, 0.05) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(251, 191, 36, 0.03) 0px, transparent 50%);
        }

        .mono { font-family: 'JetBrains Mono', monospace; }
        
        .premium-card { 
            background: rgba(20, 20, 20, 0.8); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .gold-glow { border: 1px solid var(--primary-gold); box-shadow: 0 0 15px var(--border-glow); }
        .tab-active { color: var(--primary-gold); border-bottom: 2px solid var(--primary-gold); background: rgba(251, 191, 36, 0.05); }
        
        input, select, textarea {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid rgba(255, 255, 255, 0.08) !important;
            color: white !important;
            transition: all 0.3s ease;
        }
        input:focus { border-color: var(--primary-gold) !important; outline: none; box-shadow: 0 0 10px var(--border-glow); }
        
        .terminal-feed { color: #fbbf24; opacity: 0.8; }
        
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: var(--primary-gold); border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen">

    <nav class="border-b border-white/5 px-8 py-5 flex justify-between items-center bg-[#080808]/80 backdrop-blur-md sticky top-0 z-[100]">
        <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-700 rounded-xl flex items-center justify-center shadow-lg shadow-yellow-900/20">
                <i class="bi bi-shield-check text-black text-2xl"></i>
            </div>
            <div>
                <h1 class="font-extrabold text-xl tracking-tight text-white uppercase">Cyber-X <span class="text-yellow-500 italic">Titan</span></h1>
                <p class="text-[9px] text-gray-500 font-mono tracking-widest">ADVANCED FORENSIC ASSESSMENT</p>
            </div>
        </div>
        <div class="flex gap-8 items-center font-mono">
            <div class="hidden md:block">
                <p class="text-[10px] text-gray-500 text-right uppercase">Security Protocol</p>
                <p class="text-xs text-yellow-500 font-bold">TITAN_V3_ACTIVE</p>
            </div>
            <div id="live-time" class="text-white text-sm bg-white/5 px-4 py-1 rounded-full border border-white/10">00:00:00</div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto mt-10 px-6 grid grid-cols-12 gap-8 mb-20">
        
        <div class="col-span-12 lg:col-span-8 space-y-6">
            
            <div class="premium-card p-1 flex rounded-2xl mb-2 overflow-hidden border border-white/5">
                <button onclick="navStep(1)" id="b1" class="flex-1 py-4 text-xs font-bold tracking-widest tab-active transition-all">01 PROFILING</button>
                <button onclick="navStep(2)" id="b2" class="flex-1 py-4 text-xs font-bold tracking-widest transition-all">02 FINANCIALS</button>
                <button onclick="navStep(3)" id="b3" class="flex-1 py-4 text-xs font-bold tracking-widest transition-all">03 EVIDENCE</button>
                <button onclick="navStep(4)" id="b4" class="flex-1 py-4 text-xs font-bold tracking-widest transition-all">04 INTEGRITY</button>
            </div>

            <div id="s1" class="step-div premium-card p-8 rounded-3xl animate__animated animate__fadeIn">
                <h3 class="text-xl font-bold text-yellow-500 mb-8 flex items-center gap-3">
                    <i class="bi bi-person-badge"></i> CASE PROFILING
                </h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">Full Name of Victim</label>
                        <input type="text" id="name" placeholder="Legal Name" class="w-full p-4 rounded-xl text-sm" oninput="logTerminal('User identification initialized...')">
                    </div>
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">Fraud Category</label>
                        <select id="modus" class="w-full p-4 rounded-xl text-sm" onchange="runEngine()">
                            <option value="0">Select Category</option>
                            <option value="25">UPI / Banking / Phishing</option>
                            <option value="20">Social Identity Theft</option>
                            <option value="30">High-Stake Investment Scam</option>
                            <option value="35">Sextortion / Blackmail</option>
                        </select>
                    </div>
                    <div class="col-span-2">
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">Brief Incident Summary</label>
                        <textarea id="summary" rows="3" class="w-full p-4 rounded-xl text-sm" placeholder="Provide event sequence..."></textarea>
                    </div>
                </div>
            </div>

            <div id="s2" class="step-div hidden premium-card p-8 rounded-3xl animate__animated animate__fadeIn">
                <h3 class="text-xl font-bold text-yellow-500 mb-8 flex items-center gap-3">
                    <i class="bi bi-wallet2"></i> FINANCIAL TRACKING
                </h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">Loss Amount (INR)</label>
                        <input type="number" id="amt" class="w-full p-4 rounded-xl text-sm" placeholder="0.00">
                    </div>
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">UTR / Transaction ID</label>
                        <input type="text" id="utr" class="w-full p-4 rounded-xl text-sm" placeholder="Ref Number">
                    </div>
                    <div class="col-span-2">
                        <label class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-3 block">Suspect Detail (UPI/Account)</label>
                        <input type="text" id="suspect_id" class="w-full p-4 rounded-xl text-sm" placeholder="Handle or Account Info" oninput="runEngine()">
                    </div>
                </div>
            </div>

            <div id="s3" class="step-div hidden premium-card p-8 rounded-3xl animate__animated animate__fadeIn">
                <h3 class="text-xl font-bold text-yellow-500 mb-8 flex items-center gap-3">
                    <i class="bi bi-hdd-network"></i> DIGITAL EVIDENCE VAULT
                </h3>
                <div class="space-y-4">
                    <label class="flex items-center justify-between p-5 bg-white/5 rounded-2xl border border-white/5 cursor-pointer hover:bg-yellow-500/5 transition">
                        <div>
                            <p class="font-bold text-sm">Official Bank Statement</p>
                            <p class="text-[10px] text-gray-500">Must be PDF/Original Export</p>
                        </div>
                        <input type="checkbox" class="ev-check w-6 h-6 accent-yellow-500" data-pts="20" onchange="runEngine()">
                    </label>
                    <label class="flex items-center justify-between p-5 bg-white/5 rounded-2xl border border-white/5 cursor-pointer hover:bg-yellow-500/5 transition">
                        <div>
                            <p class="font-bold text-sm">Chat Exports / Logs</p>
                            <p class="text-[10px] text-gray-500">WhatsApp/Telegram metadata</p>
                        </div>
                        <input type="checkbox" class="ev-check w-6 h-6 accent-yellow-500" data-pts="15" onchange="runEngine()">
                    </label>
                    <label class="flex items-center justify-between p-5 bg-white/5 rounded-2xl border border-white/5 cursor-pointer hover:bg-yellow-500/5 transition">
                        <div>
                            <p class="font-bold text-sm">Fraudulent Links/Apps</p>
                            <p class="text-[10px] text-gray-500">URLs or APK signatures</p>
                        </div>
                        <input type="checkbox" class="ev-check w-6 h-6 accent-yellow-500" data-pts="10" onchange="runEngine()">
                    </label>
                </div>
            </div>

            <div id="s4" class="step-div hidden premium-card p-8 rounded-3xl animate__animated animate__fadeIn">
                <h3 class="text-xl font-bold text-yellow-500 mb-8 flex items-center gap-3">
                    <i class="bi bi-patch-check"></i> FINAL VALIDATION
                </h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="p-6 bg-red-500/5 border border-red-500/20 rounded-2xl">
                        <p class="text-[11px] font-bold text-red-500 mb-4 tracking-tighter">FORENSIC PENALTIES</p>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3 text-xs">
                                <input type="checkbox" class="p-check" data-val="35" onchange="runEngine()"> Device Factory Reset
                            </label>
                            <label class="flex items-center gap-3 text-xs">
                                <input type="checkbox" class="p-check" data-val="20" onchange="runEngine()"> Cropped Screenshots
                            </label>
                        </div>
                    </div>
                    <div class="p-6 bg-yellow-500/5 border border-yellow-500/20 rounded-2xl text-center">
                        <p class="text-[11px] font-bold text-yellow-500 mb-4 tracking-tighter">REPORTING WINDOW</p>
                        <input type="range" id="t_gap" min="1" max="100" value="1" oninput="runEngine()" class="w-full accent-yellow-500">
                        <p id="t_label" class="text-[10px] mt-4 font-mono text-gray-400">Within Golden Hour (0-24h)</p>
                    </div>
                </div>
                <button onclick="downloadReport()" class="w-full mt-10 py-5 bg-yellow-500 hover:bg-yellow-400 text-black font-extrabold text-sm rounded-2xl transition-all shadow-xl shadow-yellow-900/30 uppercase tracking-widest">
                    Generate Final Dossier
                </button>
            </div>
        </div>

        <div class="col-span-12 lg:col-span-4 space-y-6">
            <div class="premium-card p-10 rounded-[2.5rem] sticky top-28 border border-yellow-500/20 gold-glow">
                <div class="text-center mb-10">
                    <p class="text-[10px] font-mono text-gray-500 uppercase tracking-widest mb-2">Confidence Matrix</p>
                    <div id="big-score" class="text-8xl font-black text-white tracking-tighter leading-none">00</div>
                    <div id="grade" class="text-[10px] font-bold mt-4 text-yellow-500 border border-yellow-500/30 px-4 py-1 rounded-full inline-block uppercase mono">Initialized</div>
                </div>

                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between text-[10px] uppercase font-bold mb-2 tracking-widest">
                            <span class="text-gray-500">Admissibility</span>
                            <span id="p_admit">0%</span>
                        </div>
                        <div class="h-1 bg-white/5 rounded-full"><div id="bar_admit" class="h-full bg-yellow-500 transition-all duration-700 w-0"></div></div>
                    </div>
                    <div>
                        <div class="flex justify-between text-[10px] uppercase font-bold mb-2 tracking-widest">
                            <span class="text-gray-500">Traceability</span>
                            <span id="p_trace">0%</span>
                        </div>
                        <div class="h-1 bg-white/5 rounded-full"><div id="bar_trace" class="h-full bg-yellow-600 transition-all duration-700 w-0"></div></div>
                    </div>
                </div>

                <div class="mt-10 pt-8 border-t border-white/5">
                    <p class="text-[10px] font-mono terminal-feed mb-4">> LIVE_ANALYSIS_ENGINE_v3.0</p>
                    <div id="term" class="text-[9px] font-mono text-gray-500 leading-relaxed h-28 overflow-y-auto">
                        [SYSTEM]: Awaiting user parameters...<br>
                        [SYSTEM]: Ready for forensic scan.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="mt-20 border-t border-white/5 py-10 text-center">
        <p class="text-gray-500 text-xs tracking-widest font-mono">© 2025 CYBER-X TITAN | ALL RIGHTS RESERVED</p>
        <p class="text-gray-400 text-xs mt-2 uppercase font-bold">Developed with ❤️ by <span class="text-yellow-500 italic">Gemini Pro</span></p>
    </footer>

    <script>
        // Real-time HUD Clock
        setInterval(() => {
            document.getElementById('live-time').innerText = new Date().toLocaleTimeString('en-GB');
        }, 1000);

        function navStep(n) {
            document.querySelectorAll('.step-div').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('tab-active')); // Not used tab-btn anymore, updating by ID
            for(let i=1; i<=4; i++) document.getElementById('b'+i).classList.remove('tab-active');
            
            document.getElementById('s' + n).classList.remove('hidden');
            document.getElementById('b' + n).classList.add('tab-active');
            logTerminal(`Switching focus to NODE_0${n}...`);
        }

        function logTerminal(msg) {
            const t = document.getElementById('term');
            t.innerHTML += `<br>> [LOG]: ${msg}`;
            t.scrollTop = t.scrollHeight;
        }

        function runEngine() {
            let score = 0;
            
            // Core Weights
            score += parseInt(document.getElementById('modus').value);
            document.querySelectorAll('.ev-check').forEach(c => { if(c.checked) score += parseInt(c.dataset.pts); });
            if(document.getElementById('suspect_id').value.length > 3) score += 15;

            // Decay Logic
            const t = document.getElementById('t_gap').value;
            let bonus = 20;
            if(t > 30) { bonus = 10; document.getElementById('t_label').innerText = "Report Delayed: Phase II"; }
            if(t > 70) { bonus = 3; document.getElementById('t_label').innerText = "Critical Decay: Evidence Lost"; }
            score += bonus;

            // Penalties
            document.querySelectorAll('.p-check').forEach(p => { if(p.checked) score -= parseInt(p.dataset.val); });

            score = Math.max(0, Math.min(100, score));

            // Dashboard Sync
            document.getElementById('big-score').innerText = score.toString().padStart(2, '0');
            
            let g = "Insufficient";
            if(score > 40) g = "Actionable";
            if(score > 70) g = "Elite / High Priority";
            document.getElementById('grade').innerText = g;

            document.getElementById('bar_admit').style.width = score + "%";
            document.getElementById('p_admit').innerText = score + "%";
            
            let trace = (score > 55) ? 85 : 40;
            document.getElementById('bar_trace').style.width = trace + "%";
            document.getElementById('p_trace').innerText = trace + "%";
        }

        async function downloadReport() {
            logTerminal("Initiating Encrypted Dossier Export...");
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const s = document.getElementById('big-score').innerText;
            const n = document.getElementById('name').value || "CASE_ALPHA";

            doc.setFillColor(8, 8, 8);
            doc.rect(0, 0, 210, 297, 'F');
            
            doc.setTextColor(251, 191, 36);
            doc.setFontSize(22);
            doc.text("CYBER-X TITAN FORENSIC DOSSIER", 20, 30);
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text(`VICTIM IDENTIFIER: ${n.toUpperCase()}`, 20, 50);
            doc.text(`CONFIDENCE SCORE: ${s}/100`, 20, 60);
            doc.text(`EXPORT DATE: ${new Date().toLocaleString()}`, 20, 70);
            
            doc.setDrawColor(251, 191, 36);
            doc.line(20, 75, 190, 75);

            doc.text("INVESTIGATION SUMMARY:", 20, 90);
            doc.text(`- MO Category: ${document.getElementById('modus').options[document.getElementById('modus').selectedIndex].text}`, 25, 100);
            doc.text(`- UTR/Ref: ${document.getElementById('utr').value || 'NO_RECORD'}`, 25, 110);
            
            doc.text("LEGAL ACTIONABLE RECOMMENDATIONS:", 20, 130);
            doc.text("1. Immediate notification of Bank Nodal via 1930 Helpline.", 20, 140);
            doc.text("2. Submit Evidence under Sec 65B of Indian Evidence Act.", 20, 150);
            doc.text("3. Proceed with FIR at local Jurisdiction Cyber Cell.", 20, 160);
            
            doc.save(`TITAN_REPORT_${n}.pdf`);
            logTerminal("Dossier Saved to Local Drive.");
        }
    </script>
</body>
</html>
