<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberShield Pro | Investigation Readiness & Evidence Analytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap');
        
        :root {
            --bg-deep: #020617;
            --accent-blue: #38bdf8;
            --police-red: #ef4444;
            --terminal-green: #22c55e;
        }

        body { 
            font-family: 'Space Grotesk', sans-serif; 
            background: var(--bg-deep); 
            color: #f1f5f9;
            background-image: radial-gradient(circle at 50% 50%, #1e293b 0%, #020617 100%);
        }

        .glass-panel { 
            background: rgba(15, 23, 42, 0.6); 
            backdrop-filter: blur(16px); 
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }

        .status-pulse {
            box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.7);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(56, 189, 248, 0); }
            100% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0); }
        }

        .gradient-border {
            border: 1px solid;
            border-image-source: linear-gradient(90deg, #38bdf8, #818cf8);
            border-image-slice: 1;
        }
    </style>
</head>
<body class="min-h-screen">

    <nav class="border-b border-white/5 px-8 py-4 flex justify-between items-center bg-black/20 backdrop-blur-md sticky top-0 z-[100]">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-blue-600 rounded-lg"><i class="bi bi-shield-lock-fill text-xl"></i></div>
            <div class="leading-tight">
                <h2 class="font-bold text-lg tracking-wider">CYBERSHIELD <span class="text-blue-400">PRO</span></h2>
                <p class="text-[10px] text-gray-500 font-mono uppercase tracking-widest">Digital Forensic Pre-Processor</p>
            </div>
        </div>
        <div class="flex gap-6 items-center">
            <div class="hidden md:flex flex-col items-end">
                <span class="text-[10px] text-gray-500 uppercase">System Status</span>
                <span class="text-xs text-green-400 font-mono flex items-center gap-1">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span> LOCAL_ENCRYPTION_ACTIVE
                </span>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto grid grid-cols-12 gap-6 p-6">
        
        <div class="col-span-12 lg:col-span-8 space-y-6">
            
            <div class="glass-panel p-4 rounded-xl border-l-4 border-blue-500 flex gap-4 items-center animate__animated animate__fadeInDown">
                <i class="bi bi-info-circle-fill text-blue-400 text-xl"></i>
                <p class="text-sm text-gray-300">This protocol generates a <b>Legal Admissibility Readiness Score</b>. Data is processed locally and never stored on any server.</p>
            </div>

            <div class="glass-panel p-6 rounded-2xl">
                <h3 class="text-lg font-bold mb-6 flex items-center gap-2"><i class="bi bi-diagram-3 text-blue-400"></i> MODUS OPERANDI CATEGORIZATION</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="setModus('Financial')" class="modus-btn p-4 rounded-xl border border-white/10 hover:border-blue-500/50 bg-white/5 transition text-sm">Financial Fraud</button>
                    <button onclick="setModus('Social')" class="modus-btn p-4 rounded-xl border border-white/10 hover:border-blue-500/50 bg-white/5 transition text-sm">Identity Theft</button>
                    <button onclick="setModus('Extortion')" class="modus-btn p-4 rounded-xl border border-white/10 hover:border-blue-500/50 bg-white/5 transition text-sm">Sextortion/Extortion</button>
                    <button onclick="setModus('Investment')" class="modus-btn p-4 rounded-xl border border-white/10 hover:border-blue-500/50 bg-white/5 transition text-sm">Task/Trading Scam</button>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-md font-bold mb-4 flex items-center gap-2"><i class="bi bi-folder-check text-blue-400"></i> DIGITAL EVIDENCE VAULT</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5">
                            <span class="text-sm text-gray-300">Bank Transaction Logs</span>
                            <input type="checkbox" class="ev-check w-5 h-5 accent-blue-500" data-val="25" onchange="updateEngine()">
                        </div>
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5">
                            <span class="text-sm text-gray-300">Suspect Phone/IP Records</span>
                            <input type="checkbox" class="ev-check w-5 h-5 accent-blue-500" data-val="15" onchange="updateEngine()">
                        </div>
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5">
                            <span class="text-sm text-gray-300">Unedited Chat Exports</span>
                            <input type="checkbox" class="ev-check w-5 h-5 accent-blue-500" data-val="10" onchange="updateEngine()">
                        </div>
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5">
                            <span class="text-sm text-gray-300">URL / App APK Links</span>
                            <input type="checkbox" class="ev-check w-5 h-5 accent-blue-500" data-val="10" onchange="updateEngine()">
                        </div>
                    </div>
                </div>

                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-md font-bold mb-4 flex items-center gap-2"><i class="bi bi-currency-exchange text-blue-400"></i> TRACEABILITY INDEX</h3>
                    <select id="transfer_type" onchange="updateEngine()" class="w-full bg-slate-900 border border-white/10 rounded-lg p-3 text-sm mb-4 outline-none focus:border-blue-500">
                        <option value="0">Select Transfer Method</option>
                        <option value="20">Direct Bank Transfer (IMPS/NEFT)</option>
                        <option value="15">UPI Payment (QR/ID)</option>
                        <option value="5">Crypto / Gift Cards</option>
                        <option value="10">E-Wallet Transfer</option>
                    </select>
                    <div class="p-3 bg-blue-500/10 rounded-lg">
                        <p class="text-[11px] text-blue-300 uppercase font-bold mb-1">Investigation Tip</p>
                        <p class="text-xs text-gray-400 italic">IMPS/NEFT transfers are easier for nodal officers to freeze compared to Crypto.</p>
                    </div>
                </div>
            </div>

            <div class="glass-panel p-6 rounded-2xl border-red-500/20">
                <h3 class="text-md font-bold mb-4 text-red-400 flex items-center gap-2"><i class="bi bi-exclamation-triangle-fill"></i> FORENSIC INTEGRITY CHECKS</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <label class="flex items-start gap-3 p-3 bg-red-500/5 rounded-xl cursor-pointer">
                        <input type="checkbox" class="penalty-check mt-1" data-loss="35" onchange="updateEngine()">
                        <div>
                            <p class="text-sm font-semibold">Device Reset Done</p>
                            <p class="text-[10px] text-gray-500 italic">Formatting the phone destroys 90% of forensic trails.</p>
                        </div>
                    </label>
                    <label class="flex items-start gap-3 p-3 bg-red-500/5 rounded-xl cursor-pointer">
                        <input type="checkbox" class="penalty-check mt-1" data-loss="20" onchange="updateEngine()">
                        <div>
                            <p class="text-sm font-semibold">Delayed Reporting (>48h)</p>
                            <p class="text-[10px] text-gray-500 italic">"Golden Hour" for bank reversal has passed.</p>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <div class="col-span-12 lg:col-span-4 space-y-6">
            
            <div class="glass-panel p-8 rounded-3xl sticky top-24 border-t-4 border-blue-500 shadow-2xl">
                <div class="text-center">
                    <p class="text-xs font-mono text-gray-500 mb-2 uppercase tracking-widest">Readiness Intelligence</p>
                    <div id="score_display" class="text-7xl font-bold mb-2 tracking-tighter">00</div>
                    <div id="status_badge" class="px-4 py-1 rounded-full text-[10px] font-bold inline-block bg-gray-800 text-gray-400 mb-6 uppercase tracking-widest">Neutral Status</div>
                </div>

                <div class="space-y-4 mb-8">
                    <div class="flex justify-between items-end">
                        <span class="text-xs text-gray-400">Forensic Admissibility</span>
                        <span id="admit_val" class="text-sm font-mono">0%</span>
                    </div>
                    <div class="w-full bg-gray-800 h-1 rounded-full overflow-hidden">
                        <div id="admit_bar" class="bg-blue-500 h-full w-0 transition-all duration-700"></div>
                    </div>

                    <div class="flex justify-between items-end pt-2">
                        <span class="text-xs text-gray-400">Recovery Probability</span>
                        <span id="recover_val" class="text-sm font-mono">0%</span>
                    </div>
                    <div class="w-full bg-gray-800 h-1 rounded-full overflow-hidden">
                        <div id="recover_bar" class="bg-emerald-500 h-full w-0 transition-all duration-700"></div>
                    </div>
                </div>

                <div class="space-y-3">
                    <button onclick="generateReport()" class="w-full py-4 bg-white text-black font-bold rounded-xl hover:bg-blue-400 transition-all flex items-center justify-center gap-2">
                        <i class="bi bi-file-earmark-pdf-fill"></i> GENERATE POLICE DOSSIER
                    </button>
                    <button class="w-full py-3 bg-white/5 border border-white/10 text-xs text-gray-400 rounded-xl hover:bg-white/10 transition">
                        <i class="bi bi-telephone-outbound mr-2"></i> EMERGENCY CONTACTS (1930)
                    </button>
                </div>

                <div class="mt-8 pt-6 border-t border-white/5">
                    <h4 class="text-[10px] font-bold text-gray-500 uppercase mb-3">Priority Action Steps:</h4>
                    <ul id="action_steps" class="space-y-2">
                        <li class="text-[11px] text-gray-400 flex items-center gap-2"><i class="bi bi-check-circle text-blue-500"></i> Enter case details for analysis</li>
                    </ul>
                </div>
            </div>

        </div>
    </main>

    <script>
        let currentModus = "General";

        function setModus(type) {
            currentModus = type;
            document.querySelectorAll('.modus-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'bg-blue-500/10');
            });
            event.target.classList.add('border-blue-500', 'bg-blue-500/10');
            updateEngine();
        }

        function updateEngine() {
            let score = 0;
            let evidenceCount = 0;

            // Base Evidence Scores
            document.querySelectorAll('.ev-check').forEach(box => {
                if(box.checked) {
                    score += parseInt(box.dataset.val);
                    evidenceCount++;
                }
            });

            // Financial Traceability
            score += parseInt(document.getElementById('transfer_type').value || 0);

            // Penalties
            document.querySelectorAll('.penalty-check').forEach(box => {
                if(box.checked) score -= parseInt(box.dataset.loss);
            });

            // Clamp
            score = Math.max(0, Math.min(100, score));

            // UI Update
            animateValue("score_display", score);
            updateDashboard(score, evidenceCount);
        }

        function updateDashboard(score, evCount) {
            const status = document.getElementById('status_badge');
            const admitVal = document.getElementById('admit_val');
            const admitBar = document.getElementById('admit_bar');
            const recoverBar = document.getElementById('recover_bar');
            const recoverVal = document.getElementById('recover_val');
            const actions = document.getElementById('action_steps');

            // Dynamic logic for Recovery & Admissibility
            let admit = (evCount * 25);
            let recover = score > 50 ? score - 10 : score / 1.5;

            admitVal.innerText = `${admit}%`;
            admitBar.style.width = `${admit}%`;
            recoverVal.innerText = `${Math.round(recover)}%`;
            recoverBar.style.width = `${recover}%`;

            actions.innerHTML = "";
            
            if(score >= 70) {
                status.innerText = "CRITICAL READY - STRONG CASE";
                status.className = "px-4 py-1 rounded-full text-[10px] font-bold inline-block bg-green-500/20 text-green-400 mb-6 uppercase tracking-widest status-pulse";
                addAction("Visit nearest Cyber Cell immediately", "high");
                addAction("Keep original transaction SMS saved", "high");
            } else if(score >= 40) {
                status.innerText = "MODERATE INVESTIGATION POTENTIAL";
                status.className = "px-4 py-1 rounded-full text-[10px] font-bold inline-block bg-yellow-500/20 text-yellow-400 mb-6 uppercase tracking-widest";
                addAction("Focus on retrieving suspect's UPI/Account No", "med");
            } else {
                status.innerText = "WEAK EVIDENTIARY VALUE";
                status.className = "px-4 py-1 rounded-full text-[10px] font-bold inline-block bg-red-500/20 text-red-400 mb-6 uppercase tracking-widest";
                addAction("Gather more primary evidence", "low");
            }
        }

        function addAction(text, priority) {
            const li = document.createElement('li');
            li.className = "text-[11px] text-gray-400 flex items-center gap-2 animate__animated animate__fadeInLeft";
            li.innerHTML = `<i class="bi bi-arrow-right-short text-blue-500"></i> ${text}`;
            document.getElementById('action_steps').appendChild(li);
        }

        function animateValue(id, end) {
            const obj = document.getElementById(id);
            let start = parseInt(obj.innerText);
            if (start === end) return;
            let range = end - start;
            let step = range > 0 ? 1 : -1;
            let timer = setInterval(() => {
                start += step;
                obj.innerText = start.toString().padStart(2, '0');
                if (start == end) clearInterval(timer);
            }, 10);
        }

        async function generateReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const score = document.getElementById('score_display').innerText;

            doc.setFillColor(2, 6, 23);
            doc.rect(0, 0, 210, 297, 'F');
            
            doc.setTextColor(56, 189, 248);
            doc.setFontSize(24);
            doc.text("CYBERSHIELD INVESTIGATION DOSSIER", 20, 30);
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(12);
            doc.text(`Incident Category: ${currentModus}`, 20, 50);
            doc.text(`Investigation Strength Score: ${score}/100`, 20, 60);
            doc.text(`Generated on: ${new Date().toLocaleString()}`, 20, 70);
            
            doc.setDrawColor(56, 189, 248);
            doc.line(20, 75, 190, 75);

            doc.text("Legal Directives:", 20, 90);
            doc.text("- Victim must present original digital media for Section 65B Evidence Act.", 20, 100);
            doc.text("- Immediate contact with 1930 Nodal officer is advised.", 20, 110);
            
            doc.save("Cyber_Investigation_Dossier.pdf");
        }
    </script>
</body>
</html>
